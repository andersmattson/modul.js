<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="utf-8">
	<title></title>
	<meta name="description" content="" />
  	<meta name="keywords" content="" />
	<meta name="robots" content="" />
<!--	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>-->
	<script data-main="mods/main" src="modul.js"></script>
	<script type="text/javascript">

		modul({
			
			inherits: ['mods/test'],
			
			events: {
				'init': 'render'
			},
			
			receivers: {
				'route': function(url) {
					console.log('route to ' + url + ' from ' + this.name);
				}
			},
			
			name: 'testfrommain',
			custom: 'Det gick',
			
			init: function() {
				console.log('Init from main with name ' + this.name);
				this.set('custom', 'Det gick bra');
			},
			
			render: function() {
				this.$el.innerHTML = this.get('custom');
				document.body.appendChild(this.$el);
			}
		});
		
		var mod = modul('testfrommain', function(){
			console.log('h√§r', this.name, this);
			this.render();
		});
		
		setTimeout(function() {
			console.log('timeout',mod);
		}, 1000);
		
		modul.receive('log', function() {
			console.log(_.slice(arguments).join());
			//$('<div />').html('log: '+ _.slice(arguments).join()).appendTo("body");
		});
	</script>
</head>
<body>
	
</body>
</html>